<div class="min-h-screen w-full bg-slate-50 dark:bg-gray-950 flex flex-col relative overflow-hidden">

    <!-- Background Accents -->
    <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-blue-600/5 rounded-full blur-[120px] -mr-64 -mt-64"></div>
    <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-600/5 rounded-full blur-[120px] -ml-64 -mb-64">
    </div>

    <!-- Header / Navbar -->
    <header
        class="relative z-10 w-full px-6 py-4 flex items-center justify-between border-b border-gray-200/50 dark:border-gray-800/50 bg-white/50 dark:bg-gray-900/50 backdrop-blur-md">
        <div class="flex items-center gap-2 cursor-pointer" routerLink="/">
            <mat-icon class="text-blue-600">school</mat-icon>
            <span class="font-bold text-xl tracking-tight text-gray-900 dark:text-white">EduPlatform</span>
        </div>
        <a routerLink="/auth/login" mat-stroked-button color="primary" class="!rounded-full">
            Giriş Ekranına Dön
        </a>
    </header>

    <main class="flex-1 relative z-10 container mx-auto max-w-6xl px-4 py-12 md:py-20">
        <div class="grid lg:grid-cols-2 gap-16 items-start">

            <!-- Left Side: FAQ & Info -->
            <div class="space-y-8">
                <div>
                    <h1 class="text-4xl font-extrabold text-gray-900 dark:text-white mb-4 leading-tight">
                        Nasıl yardımcı olabiliriz?
                    </h1>
                    <p class="text-lg text-gray-500 dark:text-gray-400">
                        Sorununuzu hızlıca çözmek için sıkça sorulan sorulara göz atabilir veya destek ekibimize mesaj
                        bırakabilirsiniz.
                    </p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-4">Sıkça Sorulan Sorular
                    </h3>

                    <mat-accordion class="custom-accordion">
                        <mat-expansion-panel *ngFor="let faq of faqs"
                            class="!bg-white dark:!bg-gray-900 !rounded-2xl !mb-3 !border-none !shadow-sm">
                            <mat-expansion-panel-header class="!h-16">
                                <mat-panel-title class="!font-semibold text-gray-800 dark:text-gray-200">
                                    {{ faq.question }}
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="pb-4 text-gray-600 dark:text-gray-400 leading-relaxed">
                                {{ faq.answer }}
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>

                <!-- Contact Badges -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4">
                    <div
                        class="p-6 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/20 rounded-2xl">
                        <mat-icon class="text-blue-600 mb-2">email</mat-icon>
                        <div class="font-bold text-gray-900 dark:text-white">E-posta</div>
                        <div class="text-sm text-gray-500">destek@eduplatform.com</div>
                    </div>
                    <div
                        class="p-6 bg-purple-50/50 dark:bg-purple-900/10 border border-purple-100 dark:border-purple-900/20 rounded-2xl">
                        <mat-icon class="text-purple-600 mb-2">schedule</mat-icon>
                        <div class="font-bold text-gray-900 dark:text-white">Çalışma Saatleri</div>
                        <div class="text-sm text-gray-500">Hergün 09:00 - 18:00</div>
                    </div>
                </div>
            </div>

            <!-- Right Side: Contact Form Card -->
            <div class="relative">
                <div *ngIf="!isSubmitted()"
                    class="bg-white dark:bg-gray-900 p-8 md:p-10 rounded-[2.5rem] shadow-2xl shadow-blue-500/5 border border-gray-100 dark:border-gray-800 relative z-10 transition-all">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">Destek Formu</h2>

                    <form [formGroup]="supportForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-6">
                        <div class="grid grid-cols-2 gap-6">
                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Ad</mat-label>
                                <input matInput formControlName="firstName" placeholder="Örn: Onur">
                                <mat-icon matPrefix class="text-gray-400 mr-2">person</mat-icon>
                                <mat-error>Ad gereklidir</mat-error>
                            </mat-form-field>

                            <mat-form-field appearance="outline" class="w-full">
                                <mat-label>Soyad</mat-label>
                                <input matInput formControlName="lastName" placeholder="Örn: Altıntaş">
                                <mat-icon matPrefix class="text-gray-400 mr-2">person_outline</mat-icon>
                                <mat-error>Soyad gereklidir</mat-error>
                            </mat-form-field>
                        </div>

                        <mat-form-field appearance="outline" class="w-full">
                            <mat-label>E-posta Adresiniz</mat-label>
                            <input matInput type="email" formControlName="email" placeholder="ornek@mail.com">
                            <mat-icon matPrefix class="text-gray-400 mr-2">email</mat-icon>
                            <mat-error>Geçerli bir e-posta gereklidir</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="w-full">
                            <mat-label>Konu</mat-label>
                            <mat-select formControlName="subject">
                                <mat-option value="Hesap Sorunları">Hesap Sorunları</mat-option>
                                <mat-option value="Teknik Hata">Teknik Hata</mat-option>
                                <mat-option value="Geri Bildirim">Geri Bildirim</mat-option>
                                <mat-option value="Diğer">Diğer</mat-option>
                            </mat-select>
                            <mat-icon matPrefix class="text-gray-400 mr-2">help_outline</mat-icon>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="w-full">
                            <mat-label>Mesajınız</mat-label>
                            <textarea matInput formControlName="message" rows="5" maxlength="1000"
                                placeholder="Lütfen sorununuzu detaylıca açıklayın..."></textarea>
                            <mat-hint align="end">{{supportForm.get('message')?.value?.length || 0}} / 1000</mat-hint>
                            <mat-error *ngIf="supportForm.get('message')?.hasError('required')">Mesaj
                                gereklidir</mat-error>
                            <mat-error *ngIf="supportForm.get('message')?.hasError('minlength')">Mesaj en az 10 karakter
                                olmalıdır</mat-error>
                            <mat-error *ngIf="supportForm.get('message')?.hasError('maxlength')">Mesaj en fazla 1000
                                karakter olabilir</mat-error>
                        </mat-form-field>

                        <button mat-flat-button color="primary" type="submit"
                            class="!py-7 !text-lg !rounded-2xl !bg-blue-600 !shadow-xl !shadow-blue-500/20 hover:!shadow-blue-500/30 transition-all font-bold"
                            [disabled]="supportForm.invalid || isLoading()">
                            <div class="flex items-center justify-center gap-2">
                                <mat-spinner *ngIf="isLoading()" diameter="24" class="!stroke-white"></mat-spinner>
                                <span *ngIf="!isLoading()">Destek Talebini Gönder</span>
                                <mat-icon *ngIf="!isLoading()">send</mat-icon>
                            </div>
                        </button>
                    </form>
                </div>

                <!-- Success Message -->
                <div *ngIf="isSubmitted()"
                    class="bg-white dark:bg-gray-900 p-10 rounded-[2.5rem] shadow-2xl border border-blue-100 dark:border-blue-900/20 text-center animate-in fade-in zoom-in duration-500">
                    <div
                        class="w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6">
                        <mat-icon class="!text-green-600 !w-10 !h-10 !text-[40px]">check_circle</mat-icon>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Mesajınız Alındı!</h2>
                    <p class="text-gray-500 dark:text-gray-400 mb-8">
                        Destek ekibimiz en kısa sürede e-posta adresiniz üzerinden sizinle iletişime geçecektir.
                        Sabrınız için teşekkür ederiz.
                    </p>
                    <button mat-button color="primary" (click)="isSubmitted.set(false)" class="!rounded-full">
                        Yeni Bir Talep Gönder
                    </button>
                </div>

                <!-- Decoration -->
                <div class="absolute -z-10 -top-8 -right-8 w-32 h-32 bg-yellow-400/20 rounded-full blur-2xl"></div>
            </div>
        </div>
    </main>

    <footer class="relative z-10 w-full px-6 py-8 text-center text-sm text-gray-400">
        &copy; 2026 EduPlatform INC. Tüm hakları saklıdır.
    </footer>
</div>